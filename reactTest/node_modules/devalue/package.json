{
  "_args": [
    [
      {
        "raw": "devalue@2.0.0",
        "scope": null,
        "escapedName": "devalue",
        "name": "devalue",
        "rawSpec": "2.0.0",
        "spec": "2.0.0",
        "type": "version"
      },
      "C:\\Users\\david.jolliffe\\Desktop\\hello-next\\node_modules\\next"
    ]
  ],
  "_from": "devalue@2.0.0",
  "_hasShrinkwrap": false,
  "_id": "devalue@2.0.0",
  "_location": "/devalue",
  "_nodeVersion": "11.6.0",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/devalue_2.0.0_1560864113807_0.9730353213434122"
  },
  "_npmUser": {
    "name": "rich_harris",
    "email": "richard.a.harris@gmail.com"
  },
  "_npmVersion": "6.5.0-next.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "devalue@2.0.0",
    "scope": null,
    "escapedName": "devalue",
    "name": "devalue",
    "rawSpec": "2.0.0",
    "spec": "2.0.0",
    "type": "version"
  },
  "_requiredBy": [
    "/next"
  ],
  "_resolved": "https://registry.npmjs.org/devalue/-/devalue-2.0.0.tgz",
  "_shasum": "2afa0b7c1bb35bebbef792498150663fdcd33c68",
  "_shrinkwrap": null,
  "_spec": "devalue@2.0.0",
  "_where": "C:\\Users\\david.jolliffe\\Desktop\\hello-next\\node_modules\\next",
  "bugs": {
    "url": "https://github.com/Rich-Harris/devalue/issues"
  },
  "dependencies": {},
  "description": "Gets the job done when JSON.stringify can't",
  "devDependencies": {
    "@types/mocha": "^5.2.5",
    "@types/node": "^10.12.0",
    "glob": "^7.1.2",
    "mocha": "^5.2.0",
    "rollup": "^0.66.6",
    "rollup-plugin-typescript": "^1.0.0",
    "rollup-plugin-virtual": "^1.0.1",
    "sander": "^0.6.0",
    "ts-node": "^7.0.1",
    "tslib": "^1.9.3",
    "typescript": "^3.1.3"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-6H2FBD5DPnQS75UWJtQjoVeKZlmXoa765UgYS5RQnx6Ay9LUhUld0w1/D6cYdrY+wnu6XQNlpEBfnJUZK0YyPQ==",
    "shasum": "2afa0b7c1bb35bebbef792498150663fdcd33c68",
    "tarball": "https://registry.npmjs.org/devalue/-/devalue-2.0.0.tgz",
    "fileCount": 7,
    "unpackedSize": 23224,
    "npm-signature": "-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJdCOVyCRA9TVsSAnZWagAAksMP/0hnUWTXtNbcx/eh+uiw\ncmachzXhPMMGaeqniWDJEyKs6ctFvLHGf2OgbQdSLl6pLFinQy13j68wA5kI\nHA9QJmZRe/x/bdrS1QzIYX4K1dJBaQ1URGRgoWzZND0OTn95duYjbIU4j008\nYfh0C9bv3wd8c5Z42Mv0mLTVEixsXjXjFqLzCM2+ydfLGojIDyuV5s65POsk\nrS1jOHABgoC3J5SNvVGNQXGO16gorNwmgD0fBoSUDQVs5RUwKAqZ4gEBxy1+\nKybe0938jcEg0jEYIt8wYN3xlQw2hn3WSVWuN0wO78umKnCLtK1RhhESZfyc\nTZkWjTb8bFPqHBLgCgWXJCJ+QUB1m2wM5XPd1Z3CN5QHZGRanCLkhgWWeq1I\nbzFIs3+sEO1YcUUMNqn29lws+aZBHiV41FDPLPmsPf6Vet0GZLPGOvXCn/GU\nqekl1+azOKGOLyt/tdT+oV+ktiJaqbCN17zz8562FNmV86Fof3zJ86gphGdH\nxJ/zAdGF/YIYu08bhIfvSMmt9xKTzIw+ur4UfkH1MZUQj0ojlRI6f7lk3tN+\nLJrH0n9KctrfKCPZ+Zv3qNiV7WmvlIVFuniJNjeWw5KP9EHIGKmnS376iwsf\nnZHUzgbX/fWvegwdFk0Y4MbB34pUwMT/F7rq/3Mdkz9w709zBqIzxH91EJET\nAORp\r\n=8GrW\r\n-----END PGP SIGNATURE-----\r\n"
  },
  "files": [
    "dist",
    "types"
  ],
  "gitHead": "f6a8ad61bd430301b95ef92be1f1dab0f58a3d3c",
  "homepage": "https://github.com/Rich-Harris/devalue#readme",
  "license": "MIT",
  "main": "dist/devalue.umd.js",
  "maintainers": [
    {
      "name": "rich_harris",
      "email": "richard.a.harris@gmail.com"
    }
  ],
  "module": "dist/devalue.esm.js",
  "name": "devalue",
  "optionalDependencies": {},
  "readme": "# devalue\n\nLike `JSON.stringify`, but handles\n\n* cyclical references (`obj.self = obj`)\n* repeated references (`[value, value]`)\n* `undefined`, `Infinity`, `NaN`, `-0`\n* regular expressions\n* dates\n* `Map` and `Set`\n\nTry it out on [runkit.com](https://npm.runkit.com/devalue).\n\n## Goals:\n\n* Performance\n* Security (see [XSS mitigation](#xss-mitigation))\n* Compact output\n\n\n## Non-goals:\n\n* Human-readable output\n* Stringifying functions or non-POJOs\n\n\n## Usage\n\n```js\nimport devalue from 'devalue';\n\nlet obj = { a: 1, b: 2 };\nobj.c = 3;\n\ndevalue(obj); // '{a:1,b:2,c:3}'\n\nobj.self = obj;\ndevalue(obj); // '(function(a){a.a=1;a.b=2;a.c=3;a.self=a;return a}({}))'\n```\n\nIf `devalue` encounters a function or a non-POJO, it will throw an error.\n\n\n## XSS mitigation\n\nSay you're server-rendering a page and want to serialize some state, which could include user input. `JSON.stringify` doesn't protect against XSS attacks:\n\n```js\nconst state = {\n  userinput: `</script><script src='https://evil.com/mwahaha.js'>`\n};\n\nconst template = `\n<script>\n  // NEVER DO THIS\n  var preloaded = ${JSON.stringify(state)};\n</script>`;\n```\n\nWhich would result in this:\n\n```html\n<script>\n  // NEVER DO THIS\n  var preloaded = {\"userinput\":\"</script><script src='https://evil.com/mwahaha.js'>\"};\n</script>\n```\n\nUsing `devalue`, we're protected against that attack:\n\n```js\nconst template = `\n<script>\n  var preloaded = ${devalue(state)};\n</script>`;\n```\n\n```html\n<script>\n  var preloaded = {userinput:\"\\\\u003C\\\\u002Fscript\\\\u003E\\\\u003Cscript src=\\'https:\\\\u002F\\\\u002Fevil.com\\\\u002Fmwahaha.js\\'\\\\u003E\"};\n</script>\n```\n\nThis, along with the fact that `devalue` bails on functions and non-POJOs, stops attackers from executing arbitrary code. Strings generated by `devalue` can be safely deserialized with `eval` or `new Function`:\n\n```js\nconst value = (0,eval)('(' + str + ')');\n```\n\n\n## Other security considerations\n\nWhile `devalue` prevents the XSS vulnerability shown above, meaning you can use it to send data from server to client, **you should not send user data from client to server** using the same method. Since it has to be evaluated, an attacker that successfully submitted data that bypassed `devalue` would have access to your system.\n\nWhen using `eval`, ensure that you call it *indirectly* so that the evaluated code doesn't have access to the surrounding scope:\n\n```js\n{\n  const sensitiveData = 'Setec Astronomy';\n  eval('sendToEvilServer(sensitiveData)'); // pwned :(\n  (0,eval)('sendToEvilServer(sensitiveData)'); // nice try, evildoer!\n}\n```\n\nUsing `new Function(code)` is akin to using indirect eval.\n\n\n## See also\n\n* [lave](https://github.com/jed/lave) by Jed Schmidt\n* [arson](https://github.com/benjamn/arson) by Ben Newman\n* [tosource](https://github.com/marcello3d/node-tosource) by Marcello Bast√©a-Forte\n* [serialize-javascript](https://github.com/yahoo/serialize-javascript) by Eric Ferraiuolo\n\n\n## License\n\n[LIL](LICENSE)\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/Rich-Harris/devalue.git"
  },
  "scripts": {
    "build": "npm run build-declarations && rollup -c",
    "build-declarations": "tsc -d && node scripts/move-type-declarations.js",
    "prepublishOnly": "npm run build && npm test",
    "test": "mocha --opts mocha.opts"
  },
  "types": "types/index.d.ts",
  "version": "2.0.0"
}
